"use strict";angular.module("clientApp",["ngAnimate","ngResource","ngRoute","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/episode.html",controller:"EpisodeCtrl",controllerAs:"about"}).when("/episode/:id",{templateUrl:"views/episode.html",controller:"EpisodeCtrl",controllerAs:"about"}).when("/serie/:id",{templateUrl:"views/serie.html",controller:"SerieCtrl"}).when("/serieslist",{templateUrl:"views/serieslist.html",controller:"SerieslistCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("clientApp").controller("MainCtrl",["$scope","SeriesFactory","EpisodesFactory",function(a,b,c){a.id=2,b.get({id:a.id},function(b){a.serie=b}),b.query(function(b){a.series=b}),c.getlatest(10).success(function(b){a.episodes=b}),this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("clientApp").controller("EpisodeCtrl",["EpisodesFactory","$scope","SeriesFactory","$routeParams",function(a,b,c,d){var e=a.crud();b.side1=!0,b.id=d.id,c.query(function(a){b.series=a}),e.get({id:b.id},function(a){b.episode=a,console.log(b.episode.videomirror)}),a.getlatest(10).success(function(a){b.episodes=a}),this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("clientApp").factory("SeriesFactory",["$resource",function(a){return a("http://localhost:8080/api/series/:id")}]),angular.module("clientApp").factory("EpisodesFactory",["$resource","$http",function(a,b){var c={};return c.getlatest=function(a){return b.get("http://localhost:8080/api/episodes/latest/"+a)},c.episodesForSerie=function(a){return b.get("http://localhost:8080/api/episodes/latest/"+a)},c.crud=function(){return a("http://localhost:8080/api/episodes/:id",{id:"@id"})},c}]),angular.module("clientApp").directive("bsRes",["$window","$timeout",function(a,b){return{restrict:"A",scope:{bvMode:"="},template:'<div class="visible-xs"></div><div class="visible-sm"></div><div class="visible-md"></div><div class="visible-lg"></div>',link:function(c,d){c.markers=d.find("div");var e;c.updateDisplayMode=function(){angular.forEach(c.markers,function(a){null!==a.offsetParent&&(c.bvMode=a.className)})},angular.element(a).bind("resize",function(){b.cancel(e),e=b(function(){c.updateDisplayMode()},300)}),c.updateDisplayMode()}}}]),angular.module("clientApp").filter("trusted",["$sce",function(a){return function(b){return a.trustAsResourceUrl(b)}}]),angular.module("clientApp").controller("SerieCtrl",["EpisodesFactory","$scope","SeriesFactory","$routeParams",function(a,b,c,d){b.id=d.id;var e=a.crud();c.get({id:b.id},function(a){b.serie=a}),c.query(function(a){b.series=a}),a.getlatest(10).success(function(a){b.episodes=a}),e.get({id:b.id},function(a){b.episode=a}),this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("clientApp").controller("SerieslistCtrl",["EpisodesFactory","$scope","SeriesFactory",function(a,b,c){c.query(function(a){b.series=a}),a.getlatest(10).success(function(a){b.episodes=a}),b.startsWith=function(a,b){var c=(a+"").toLowerCase();return 0===c.indexOf(b.toLowerCase())}}]),angular.module("clientApp").controller("NavigationCtrl",["$scope","$location",function(a,b){a.$location=b}]),angular.module("clientApp").factory("tagsfactory",function(){var a={};a.getTagsFor=function(a){return $http.get("http://localhost:8080/api/tags/"+a)}}),angular.module("clientApp").run(["$templateCache",function(a){a.put("views/episode.html",'<div class="container"> <div class="row"> <div class="col-md-8 col-sm-8 dark"> <ul class="breadcrumb"> <li><a href="#"><i class="fa fa-home fa-lg"></i></a></li> <li><a href="#/serie/{{episode.seriesBySeriesid.id}}">{{episode.seriesBySeriesid.title}}</a></li> <li class="active">Episode {{episode.number}}</li> </ul> <h4>{{episode.seriesBySeriesid.title}}</h4> <h5>Episode {{episode.number}}</h5> <div class="row text-center"> <div class="col-md-12 col-sm-12 col-xs-12"> <div class="panel panel-default"> <div class="panel-body"> <div class="embed-responsive embed-responsive-16by9 video"> <iframe class="embed-responsive-item" ng-src="{{episode.video | trusted}}" allowfullscreen frameborder="5px" marginwidth="5px" marginheight="5px" scrolling="NO"></iframe> </div> <div class="col-xs-12 mirror-panel"> <h5>Video mirrors:</h5> <div class="col-xs-4 mirror"><img class="img-responsive" src="http://placehold.it/200x150"></div> <div class="col-xs-4 mirror"><img class="img-responsive" src="http://placehold.it/200x150"></div> <div class="col-xs-4 mirror"><img class="img-responsive" src="http://placehold.it/200x150"></div> </div> </div> <div class="panel-footer"> <div class="row"> <div class="col-xs-6 text-left"><a href="#"><i class="fa fa-angle-double-left"></i> previous</a></div> <div class="col-xs-6 text-right"><span><a href="#">next <i class="fa fa-angle-double-right"></i></a></span></div> </div> </div> </div> <br> <p><a class="btn btn-default" href="#/serie/{{episode.seriesBySeriesid.id}}" role="button">See all episodes <i class="fa fa-angle-double-right"></i></a></p> </div> </div> <h4>Similar anime</h4> <hr> <div class="row text-center"> <div class="col-md-3 col-sm-3 col-xs-6" ng-repeat-start="serie in series | limitTo:8"> <img ng-src="{{serie.coverimg}}"> <h5>{{serie.title}}</h5> <p><a class="btn btn-default" href="#/serie/{{serie.id}}" role="button">View details <i class="fa fa-angle-double-right"></i></a></p> </div> <div class="clearfix" ng-if="$index%4==3"></div> <div ng-repeat-end=""></div> </div> </div> <div class="col-md-4 col-sm-4"> <div class="col-sm-12 dark"> <h4>Latest Anime episodes</h4> <hr> <div ng-repeat="episode in episodes | limitTo:10"> <a href="#/episode/{{episode.id}}">{{episode.seriesBySeriesid.title}} - episode {{episode.number}}</a> <hr class="hr2"> </div> <br> <h4>Popular Series</h4> <hr> <div ng-repeat="episode in episodes | limitTo:10"> <a href="#/serie/{{episode.id}}">{{episode.seriesBySeriesid.title}}</a> <hr class="hr2"> </div> </div> </div> </div> </div>'),a.put("views/main.html",'<div class="container"> <div class="row"> <div class="col-md-12 dark" ng-cloak> <h4>Newest Episodes</h4> <hr> <div class="row text-center"> <div class="col-md-1-5 col-sm-4 col-xs-6" ng-repeat-start="episode in episodes  | limitTo:15"> <a ng-href="#/episode/{{episode.id}}"><img ng-src="{{episode.seriesBySeriesid.coverimg}}"> <h5>{{episode.seriesBySeriesid.title}} - Episode {{episode.number}}</h5></a> </div> <div class="visible-md clearfix" ng-if="$index%5==4"></div> <div class="visible-lg clearfix" ng-if="$index%5==4"></div> <div class="visible-xs clearfix" ng-if="$index%2==1"></div> <div ng-repeat-end=""></div> </div> <h4>Popular ANIME</h4> <hr> <div class="row text-center"> <div class="col-md-1-5 col-sm-4 col-xs-6" ng-repeat-start="episode in episodes  | limitTo:15"> <a ng-href="#/serie/{{episode.seriesBySeriesid.id}}"><img ng-src="{{episode.seriesBySeriesid.coverimg}}"> <h5>{{episode.seriesBySeriesid.title}}</h5></a> </div> <div class="visible-md clearfix" ng-if="$index%5==4"></div> <div class="visible-lg clearfix" ng-if="$index%5==4"></div> <div class="visible-xs clearfix" ng-if="$index%2==1"></div> <div ng-repeat-end=""></div> </div> </div> </div> </div>'),a.put("views/serie.html",'<div class="container"> <div class="row"> <div class="col-md-8 col-sm-8 dark"> <ul class="breadcrumb"> <li><a href="#"><i class="fa fa-home fa-lg"></i></a></li> <li class="active">{{serie.title}}</li> </ul> <h4>{{serie.title}} Series</h4> <hr> <div class="row"> <div class="col-md-4 col-sm-4 col-xs-4"> <img ng-src="{{serie.coverimg}}"> </div> <div class="col-md-8 col-sm-8 col-xs-8 text-left"> <h4>Tags</h4> <hr> <ul class="breadcrumb"> <li ng-repeat="tag in serie.tagsById"><a href="#/tags">{{tag.name}}</a></li> </ul> <h4>Details</h4> <hr> <h5>Original Title: {{serie.orgtitle}}</h5> <h5>Type: {{serie.typ}}</h5> <h5>Status: {{serie.status}}</h5> <br> <h4>Summary</h4> <hr> <p>{{serie.summary}}</p> </div> </div> <h4>Episodes list</h4> <hr> <table class="table table-striped"> <tbody> <tr ng-repeat="episode in episodes"> <td><a ng-href="#/episode/{{episode.id}}">Episode {{episode.number}}</a></td> </tr> </tbody> </table> <br> <h4>Similar anime</h4> <hr> <div class="row text-center"> <div class="col-md-3 col-sm-3 col-xs-6" ng-repeat-start="serie in series  | limitTo:8"> <img ng-src="{{serie.coverimg}}"> <h5>{{serie.title}}</h5> <p><a class="btn btn-default" href="#/serie/{{serie.id}}" role="button">View details <i class="fa fa-angle-double-right"></i></a> </p> </div> <div class="clearfix" ng-if="$index%4==3"></div> <div ng-repeat-end=""></div> </div> </div> <div class="col-md-4 col-sm-4"> <div class="col-sm-12 dark"> <h4>Latest Anime episodes</h4> <hr> <div ng-repeat="episode in episodes | limitTo:10"> <a href="#">{{episode.seriesBySeriesid.title}} - episode {{episode.number}}</a> <hr class="hr2"> </div> <br> <h4>Popular Series</h4> <hr> <div ng-repeat="episode in episodes | limitTo:10"> <a href="#">{{episode.seriesBySeriesid.title}}</a> <hr class="hr2"> </div> </div> </div> </div> </div>'),a.put("views/serieslist.html",'<div class="container"> <div class="row"> <div class="col-md-8 col-sm-8 dark"> <ul class="breadcrumb"> <li><a href="#"><i class="fa fa-home fa-lg"></i></a></li> <li class="active">Series list</li> </ul> <h4>Series list</h4> <div class="row text-center"> <div class="col-md-12 col-sm-12 col-xs-12"> <div class="col-md-12 col-sm-12 col-xs-12 well"> <div class="form-group"> <div class="input-group"> <input type="text" class="form-control formfix" ng-model="search.title" value="Search..."> <span class="input-group-addon"><i class="fa fa-search"></i></span> </div> </div> </div> <hr> <table class="table table-striped animated zoomIn"> <tbody> <tr ng-repeat="serie in series | filter:search:startsWith" class="iteam"> <td><a ng-href="#/serie/{{serie.id}}">{{serie.title}}</a></td> </tr> </tbody> </table> </div> </div> </div> <div class="col-md-4 col-sm-4"> <div class="col-sm-12 dark"> <h4>Latest Anime episodes</h4> <hr> <div ng-repeat="episode in episodes  | limitTo:10"> <a href="#">{{episode.seriesBySeriesid.title}} - episode {{episode.number}}</a> <hr class="hr2"> </div> <br> <h4>Popular Series</h4> <hr> <div ng-repeat="episode in episodes  | limitTo:10"> <a href="#">{{episode.seriesBySeriesid.title}}</a> <hr class="hr2"> </div> </div> </div> </div> </div>')}]);